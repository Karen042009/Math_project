<!DOCTYPE html>
<html lang="hy">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Probability Theory ‚Äî Interactive Learning Platform</title>
    <meta name="description"
        content="Comprehensive interactive platform for studying probability theory. Theory, practice problems, calculator, and Monte Carlo simulations.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Fira+Code:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- MathJax -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]'], ['$$', '$$']]
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea']
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/simulations.css">
    <link rel="stylesheet" href="css/lab.css">
</head>

<body>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADER / NAVIGATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <nav class="glass-nav" id="main-nav">
        <div class="nav-left">
            <div class="logo" onclick="showPage('home')">
                Prob<span class="highlight">Pro</span>
            </div>
        </div>
        <div class="nav-right">
            <div class="nav-links">
                <button class="nav-btn active" onclick="showPage('home')" data-target="home">
                    <i class="fas fa-home"></i> <span data-i18n="nav_home">Home</span>
                </button>
                <button class="nav-btn" onclick="showPage('theory')" data-target="theory">
                    <i class="fas fa-book"></i> <span data-i18n="nav_theory">Theory</span>
                </button>
                <button class="nav-btn" onclick="showPage('practice')" data-target="practice">
                    <i class="fas fa-dumbbell"></i> <span data-i18n="nav_practice">Practice</span>
                </button>
                <button class="nav-btn" onclick="showPage('lab')" data-target="lab">
                    <i class="fas fa-flask"></i> <span data-i18n="nav_lab">Lab</span>
                </button>
                <button class="nav-btn" onclick="showPage('simulations')" data-target="simulations">
                    <i class="fas fa-atom"></i> <span data-i18n="nav_simulations">Simulations</span>
                </button>
            </div>

            <div class="lang-switcher">
                <button class="lang-btn active" onclick="setLanguage('hy')">’Ä’Ö</button>
                <button class="lang-btn" onclick="setLanguage('en')">EN</button>
                <button class="lang-btn" onclick="setLanguage('ru')">RU</button>
            </div>

            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu-overlay">
        <div class="mobile-menu-content">
            <button class="close-menu" onclick="toggleMobileMenu()">√ó</button>
            <button class="mobile-nav-btn" onclick="showPage('home'); toggleMobileMenu();">
                <i class="fas fa-home"></i> <span data-i18n="nav_home">Home</span>
            </button>
            <button class="mobile-nav-btn" onclick="showPage('theory'); toggleMobileMenu();">
                <i class="fas fa-book"></i> <span data-i18n="nav_theory">Theory</span>
            </button>
            <button class="mobile-nav-btn" onclick="showPage('practice'); toggleMobileMenu();">
                <i class="fas fa-dumbbell"></i> <span data-i18n="nav_practice">Practice</span>
            </button>
            <button class="mobile-nav-btn" onclick="showPage('lab'); toggleMobileMenu();">
                <i class="fas fa-flask"></i> <span data-i18n="nav_lab">Lab</span>
            </button>
            <button class="mobile-nav-btn" onclick="showPage('simulations'); toggleMobileMenu();">
                <i class="fas fa-atom"></i> <span data-i18n="nav_simulations">Simulations</span>
            </button>
            <hr style="border-color: rgba(255,255,255,0.1)">
            <div style="display:flex;gap:8px;justify-content:center;">
                <button class="lang-btn" onclick="setLanguage('hy')">’Ä’Ö</button>
                <button class="lang-btn" onclick="setLanguage('en')">EN</button>
                <button class="lang-btn" onclick="setLanguage('ru')">RU</button>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MAIN CONTENT CONTAINER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="app-container">

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ HOME PAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <section id="home" class="page-section active-section">
            <div class="hero-section">
                <div class="hero-particles">
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                </div>
                <div class="hero-content">
                    <h1 class="hero-title">
                        <span class="hero-math-icon"><i class="fas fa-infinity"></i></span>
                        <span data-i18n="hero_title">Probability Theory</span>
                    </h1>
                    <p class="hero-subtitle" data-i18n="hero_subtitle">Interactive Learning Platform</p>
                    <p class="hero-desc" data-i18n="hero_desc">
                        Explore the world of probability through comprehensive theory,
                        practice problems, visual calculators, and interactive Monte Carlo simulations.
                    </p>
                    <div class="hero-buttons">
                        <button class="glow-btn" onclick="showPage('theory')">
                            <i class="fas fa-book-open"></i> <span data-i18n="btn_start">Start Learning</span>
                        </button>
                        <button class="glow-btn secondary" onclick="showPage('simulations')">
                            <i class="fas fa-play-circle"></i> <span data-i18n="btn_try_sims">Try Simulations</span>
                        </button>
                    </div>
                </div>

                <div class="hero-features">
                    <div class="feature-card glass-panel" onclick="showPage('theory')">
                        <div class="feature-icon"><i class="fas fa-book"></i></div>
                        <h3 data-i18n="card_theory_title">Theory Encyclopedia</h3>
                        <p data-i18n="card_theory_desc">7 chapters covering everything from basic events to the Central
                            Limit Theorem</p>
                    </div>
                    <div class="feature-card glass-panel" onclick="showPage('practice')">
                        <div class="feature-icon"><i class="fas fa-brain"></i></div>
                        <h3 data-i18n="card_practice_title">Practice Arena</h3>
                        <p data-i18n="card_practice_desc">20+ problems from beginner to Olympic level with smart
                            feedback</p>
                    </div>
                    <div class="feature-card glass-panel" onclick="showPage('lab')">
                        <div class="feature-icon"><i class="fas fa-chart-line"></i></div>
                        <h3 data-i18n="card_lab_title">Calculator & Graphs</h3>
                        <p data-i18n="card_lab_desc">Custom keypad, distribution calculator, Venn diagrams, probability
                            trees</p>
                    </div>
                    <div class="feature-card glass-panel" onclick="showPage('simulations')">
                        <div class="feature-icon"><i class="fas fa-dice"></i></div>
                        <h3 data-i18n="card_sims_title">Monte Carlo Lab</h3>
                        <p data-i18n="card_sims_desc">Galton Board, Monty Hall, and Buffon's Needle interactive
                            simulations</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ THEORY PAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <section id="theory" class="page-section">
            <h1 style="margin:20px 0 30px; font-size:2.2rem;">
                <i class="fas fa-book" style="color:var(--neon-purple)"></i>
                <span data-i18n="section_theory">Theory Encyclopedia</span>
            </h1>
            <div class="theory-layout">
                <aside class="sidebar">
                    <h3><i class="fas fa-list"></i> <span data-i18n="sidebar_title">Contents</span></h3>
                    <div id="theory-nav">
                        <!-- Dynamically populated by JS -->
                    </div>
                </aside>
                <main class="theory-content" id="theory-dynamic-render">
                    <!-- Dynamically populated by JS -->
                </main>
            </div>
        </section>

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ PRACTICE PAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <section id="practice" class="page-section">
            <div class="practice-header">
                <h1><i class="fas fa-dumbbell" style="color:var(--accent-pink)"></i> <span
                        data-i18n="section_practice">The Practice Arena</span></h1>
                <div class="ai-badge"><i class="fas fa-brain"></i> <span data-i18n="ai_badge_text">Smart feedback system
                        ‚Äî links wrong answers to theory</span>
                </div>
            </div>

            <div class="practice-stats glass-panel" id="practice-stats">
                <!-- Populated by JS -->
            </div>

            <div class="filters">
                <button class="filter-btn active" onclick="filterProblems('all', this)">
                    <i class="fas fa-th"></i> <span data-i18n="filter_all">All</span>
                </button>
                <button class="filter-btn" onclick="filterProblems('beginner', this)">
                    <i class="fas fa-seedling"></i> <span data-i18n="filter_beginner">Beginner</span>
                </button>
                <button class="filter-btn" onclick="filterProblems('intermediate', this)">
                    <i class="fas fa-fire"></i> <span data-i18n="filter_intermediate">Intermediate</span>
                </button>
                <button class="filter-btn" onclick="filterProblems('advanced', this)">
                    <i class="fas fa-bolt"></i> <span data-i18n="filter_advanced">Advanced</span>
                </button>
                <button class="filter-btn" onclick="filterProblems('olympic', this)">
                    <i class="fas fa-trophy"></i> <span data-i18n="filter_olympic">Olympic</span>
                </button>
            </div>

            <div id="problems-grid" class="grid-container">
                <!-- Populated by JS -->
            </div>

            <!-- AI Section -->
            <div style="margin-top:50px; padding-top:30px; border-top:1px solid rgba(255,255,255,0.1);">
                <h2 style="margin-bottom:20px;">
                    <i class="fas fa-robot" style="color:var(--accent-blue)"></i> <span data-i18n="section_ai_gen">AI
                        Problem Generator</span>
                </h2>
                <div class="ai-controls">
                    <select id="ai-topic" class="ai-select">
                        <option value="basic probability" data-i18n="topic_basic">Basic Probability</option>
                        <option value="combinatorics" data-i18n="topic_combinatorics">Combinatorics</option>
                        <option value="conditional probability" data-i18n="topic_conditional">Conditional Probability
                        </option>
                        <option value="Bayes theorem" data-i18n="topic_bayes">Bayes' Theorem</option>
                        <option value="distributions" data-i18n="topic_distributions">Distributions</option>
                        <option value="random variables" data-i18n="topic_rv">Random Variables</option>
                    </select>
                    <select id="ai-difficulty" class="ai-select">
                        <option value="beginner" data-i18n="filter_beginner">Beginner</option>
                        <option value="intermediate" data-i18n="filter_intermediate">Intermediate</option>
                        <option value="advanced" data-i18n="filter_advanced">Advanced</option>
                        <option value="olympic" data-i18n="filter_olympic">Olympic</option>
                    </select>
                    <button class="glow-btn" onclick="generateAIProblem()">
                        <i class="fas fa-bolt"></i> <span data-i18n="btn_generate_problem">Generate Problem</span>
                    </button>
                </div>

                <div id="ai-workspace">
                    <div class="ai-problem">
                        <h4><i class="fas fa-question-circle"></i> <span data-i18n="ai_workspace_title">Generated
                                Problem</span></h4>
                        <p id="ai-question-text"></p>
                    </div>
                    <div class="ai-input-area">
                        <textarea id="ai-user-text" data-i18n="ai_placeholder_solution"
                            placeholder="Write your solution here..."></textarea>
                        <label class="file-upload-label">
                            <i class="fas fa-camera"></i> <span data-i18n="ai_upload_label">Upload handwritten
                                solution</span>
                            <input type="file" id="ai-user-image" accept="image/*" onchange="previewImage(this)"
                                style="display:none">
                        </label>
                        <div id="img-preview-container" style="display:none; margin-top:15px;">
                            <img id="img-preview"
                                style="max-width:300px; border-radius:8px; border:1px solid rgba(255,255,255,0.2)">
                        </div>
                    </div>
                    <button class="glow-btn ai-check-btn" onclick="checkSolutionWithAI()" style="margin-top:15px;">
                        <i class="fas fa-microchip"></i> <span data-i18n="btn_ask_ai">Ask AI to Check</span>
                    </button>
                    <div id="ai-feedback">
                        <h3><span data-i18n="ai_score_label">Score:</span> <span id="ai-score"
                                style="color:var(--accent-gold)"></span></h3>
                        <div id="ai-feedback-content"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ LAB PAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <section id="lab" class="page-section">
            <h1 style="margin:20px 0 30px; font-size:2.2rem;">
                <i class="fas fa-flask" style="color:var(--accent-blue)"></i>
                <span data-i18n="section_lab">The Lab ‚Äî Calculator & Graphs</span>
            </h1>

            <div class="lab-grid">
                <!-- LEFT: Calculator -->
                <div class="lab-panel">
                    <h2><i class="fas fa-calculator"></i> <span data-i18n="card_tab_calc">Calculator</span></h2>

                    <!-- CALCULATOR HEADER -->
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                        <div class="calc-display-container" style="flex:1; margin-right:10px; margin-bottom:0;">
                            <input type="text" id="calc-input" data-i18n="calc_placeholder" placeholder="...">
                            <div id="calc-result" style="font-size:0.9rem; color:var(--accent-gold);">0</div>
                        </div>
                        <button id="btn-toggle-formula" class="secondary-btn small" onclick="toggleFormulaPanel()"
                            style="height:50px; font-size:1.2rem;">
                            <i class="fas fa-function"></i>
                        </button>
                    </div>

                    <!-- TABS -->
                    <div class="calc-tabs">
                        <button class="calc-tab active" onclick="switchCalcTab('basic')"
                            data-i18n="calc_group_basic">Basic</button>
                        <button class="calc-tab" onclick="switchCalcTab('advanced')"
                            data-i18n="calc_group_adv">Advanced</button>
                        <button class="calc-tab" onclick="switchCalcTab('greek')"
                            data-i18n="calc_group_greek">Greek</button>
                    </div>

                    <!-- KEYPADS (Always Available) -->
                    <div id="calc-pad-basic" class="keypad calc-pad active">
                        <button class="key num" onclick="addToCalc('7')">7</button>
                        <button class="key num" onclick="addToCalc('8')">8</button>
                        <button class="key num" onclick="addToCalc('9')">9</button>
                        <button class="key op" onclick="addToCalc('/')">√∑</button>

                        <button class="key num" onclick="addToCalc('4')">4</button>
                        <button class="key num" onclick="addToCalc('5')">5</button>
                        <button class="key num" onclick="addToCalc('6')">6</button>
                        <button class="key op" onclick="addToCalc('*')">√ó</button>

                        <button class="key num" onclick="addToCalc('1')">1</button>
                        <button class="key num" onclick="addToCalc('2')">2</button>
                        <button class="key num" onclick="addToCalc('3')">3</button>
                        <button class="key op" onclick="addToCalc('-')">‚àí</button>

                        <button class="key num" onclick="addToCalc('0')">0</button>
                        <button class="key num" onclick="addToCalc('.')">.</button>
                        <button class="key action" onclick="backspaceCalc()"><i class="fas fa-backspace"></i></button>
                        <button class="key op" onclick="addToCalc('+')">+</button>

                        <button class="key action" onclick="clearCalc()">AC</button>
                        <button class="key op" onclick="addToCalc('(')">(</button>
                        <button class="key op" onclick="addToCalc(')')">)</button>
                        <button class="key enter" onclick="calculateResult()">=</button>
                    </div>

                    <div id="calc-pad-advanced" class="keypad calc-pad">
                        <button class="key op" onclick="addToCalc('!')">n!</button>
                        <button class="key op" onclick="addToCalc('C(')">C(n,k)</button>
                        <button class="key op" onclick="addToCalc('P(')">P(n,k)</button>
                        <button class="key op" onclick="addToCalc('sqrt(')">‚àö</button>

                        <button class="key op" onclick="addToCalc('^')">^</button>
                        <button class="key op" onclick="addToCalc('log(')">log</button>
                        <button class="key op" onclick="addToCalc('ln(')">ln</button>
                        <button class="key op" onclick="addToCalc('abs(')">abs</button>

                        <button class="key op" onclick="addToCalc('sin(')">sin</button>
                        <button class="key op" onclick="addToCalc('cos(')">cos</button>
                        <button class="key op" onclick="addToCalc('tan(')">tan</button>
                        <button class="key op" onclick="addToCalc('e')">e</button>

                        <button class="key op" onclick="addToCalc('‚à™')" style="color:var(--accent-pink)">‚à™</button>
                        <button class="key op" onclick="addToCalc('‚à©')" style="color:var(--accent-blue)">‚à©</button>
                        <button class="key op" onclick="addToCalc(',')">,</button>
                        <button class="key enter" onclick="calculateResult()">=</button>
                    </div>

                    <div id="calc-pad-greek" class="keypad calc-pad">
                        <button class="key op" onclick="addToCalc('Œ±')">Œ±</button>
                        <button class="key op" onclick="addToCalc('Œ≤')">Œ≤</button>
                        <button class="key op" onclick="addToCalc('Œ≥')">Œ≥</button>
                        <button class="key op" onclick="addToCalc('Œª')">Œª</button>

                        <button class="key op" onclick="addToCalc('Œº')">Œº</button>
                        <button class="key op" onclick="addToCalc('œÉ')">œÉ</button>
                        <button class="key op" onclick="addToCalc('œÄ')">œÄ</button>
                        <button class="key op" onclick="addToCalc('Œ©')">Œ©</button>

                        <button class="key op" onclick="addToCalc('Œµ')">Œµ</button>
                        <button class="key op" onclick="addToCalc('Œ¥')">Œ¥</button>
                        <button class="key op" onclick="addToCalc('Œ∏')">Œ∏</button>
                        <button class="key op" onclick="addToCalc('‚àû')">‚àû</button>

                        <button class="key action" onclick="clearCalc()">AC</button>
                        <button class="key action" onclick="backspaceCalc()"><i class="fas fa-backspace"></i></button>
                        <button class="key op" onclick="addToCalc(',')">,</button>
                        <button class="key enter" onclick="calculateResult()">=</button>
                    </div>

                    <!-- FORMULA STEPS DRAWER -->
                    <div id="calc-formula-container"
                        style="display:none; margin-top:20px; border-top:1px solid rgba(255,255,255,0.1); padding-top:15px;">
                        <h3 data-i18n="calc_mode_formula"
                            style="font-size:1rem; color:var(--accent-blue); margin-bottom:10px;">Step-by-Step Formulas
                        </h3>
                        <select id="formula-select" class="ai-select" style="width:100%; margin-bottom:15px;"
                            onchange="renderFormulaInputs()">
                            <option value="">-- Select Formula --</option>
                            <option value="bernoulli">Bernoulli Formula</option>
                            <option value="bayes">Bayes' Theorem</option>
                            <option value="combinations">Combinations (C_n^k)</option>
                            <option value="permutations">Permutations (P_n)</option>
                            <option value="poisson">Poisson Approx</option>
                        </select>
                        <div id="formula-inputs" style="margin-bottom:15px;"></div>
                        <button class="glow-btn small" onclick="solveFormulaWithSteps()" style="width:100%"><i
                                class="fas fa-lightbulb"></i> Solve</button>
                        <div id="formula-steps"
                            style="margin-top:15px; background:rgba(0,0,0,0.2); padding:10px; border-radius:8px; font-family:'Fira Code', monospace; font-size:0.9rem;">
                        </div>
                    </div>
                </div>

                <!-- RIGHT: Visualizer -->
                <div class="lab-panel">
                    <h2><i class="fas fa-chart-area"></i> <span data-i18n="card_lab_title">Visualizer</span></h2>

                    <div class="vis-controls">
                        <select id="dist-select" onchange="updateVisualizer()">
                            <option value="normal" data-i18n="dist_normal">Normal Distribution</option>
                            <option value="venn" data-i18n="dist_venn">Venn Diagram</option>
                            <option value="tree" data-i18n="dist_tree">Probability Tree</option>
                        </select>
                        <div id="dist-params-container" style="display:inline-block; margin-left:10px;">
                            <!-- Dynamic params injected here -->
                            <div id="dist-params"></div>
                        </div>
                        <button class="secondary-btn" onclick="drawGraph()" style="margin-left:auto;">
                            <i class="fas fa-play"></i> <span data-i18n="btn_draw">Draw</span>
                        </button>
                    </div>

                    <canvas id="lab-canvas" width="600" height="400"></canvas>
                    <div id="dist-output" class="dist-output" style="margin-top:15px;"></div>
                </div>
            </div>
        </section>

        <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SIMULATIONS PAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <section id="simulations" class="page-section">
            <h1 style="margin:20px 0 10px; font-size:2.2rem;">
                <i class="fas fa-atom" style="color:var(--accent-pink)"></i>
                <span data-i18n="section_sims">Monte Carlo Playground</span>
            </h1>
            <p class="intro-text" data-i18n="intro_sims">Watch probability come alive through interactive simulations!
            </p>

            <!-- Simulation Tabs -->
            <div class="sim-tabs" style="display:flex; gap:10px; margin-bottom:30px; flex-wrap:wrap;">
                <button class="glow-btn sim-tab-btn active" onclick="showSimulation('galton', this)">
                    <i class="fas fa-circle-notch"></i> <span data-i18n="sim_galton_btn">Galton Board</span>
                </button>
                <button class="glow-btn secondary sim-tab-btn" onclick="showSimulation('monty', this)">
                    <i class="fas fa-door-open"></i> <span data-i18n="sim_monty_btn">Monty Hall</span>
                </button>
                <button class="glow-btn secondary sim-tab-btn" onclick="showSimulation('buffon', this)">
                    <i class="fas fa-ruler"></i> <span data-i18n="sim_buffon_btn">Buffon's Needle</span>
                </button>
            </div>

            <!-- ‚îÄ‚îÄ‚îÄ‚îÄ GALTON BOARD ‚îÄ‚îÄ‚îÄ‚îÄ -->
            <div id="sim-galton" class="sim-panel" style="display:block;">
                <div class="sim-description" data-i18n="sim_galton_desc">
                    <strong>Galton Board (Bean Machine):</strong>
                    Balls fall through pegs, bouncing left or right at each level. The result beautifully demonstrates
                    the <strong>Central Limit Theorem</strong> ‚Äî independent random bounces produce a <em>Normal
                        Distribution</em>.
                </div>
                <div class="sim-container" style="display:flex;">
                    <div style="flex:2; min-width:300px;">
                        <canvas id="galton-canvas" style="width:100%; height:500px;"></canvas>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <label data-i18n="galton_rows_label">Number of Rows</label>
                            <input type="number" id="galton-rows" value="12" min="4" max="20">
                        </div>
                        <button class="glow-btn" onclick="dropGaltonBalls(1)">
                            <i class="fas fa-circle"></i> <span data-i18n="btn_drop_1">Drop 1 Ball</span>
                        </button>
                        <button class="glow-btn" onclick="dropGaltonBalls(50)">
                            <i class="fas fa-shower"></i> <span data-i18n="btn_drop_50">Drop 50</span>
                        </button>
                        <button class="glow-btn" onclick="dropGaltonBalls(500)">
                            <i class="fas fa-meteor"></i> <span data-i18n="btn_drop_500">Drop 500</span>
                        </button>
                        <button class="glow-btn secondary" onclick="resetGalton()">
                            <i class="fas fa-redo"></i> <span data-i18n="btn_reset">Reset</span>
                        </button>
                        <div class="stats-panel" id="galton-stats">
                            <p><span data-i18n="stat_balls_dropped">Balls dropped:</span> <span>0</span></p>
                            <p><span data-i18n="stat_settled">Settled:</span> <span>0</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ‚îÄ‚îÄ‚îÄ‚îÄ MONTY HALL ‚îÄ‚îÄ‚îÄ‚îÄ -->
            <div id="sim-monty" class="sim-panel" style="display:none;">
                <div class="sim-description" data-i18n="sim_monty_desc">
                    <strong>Monty Hall Problem:</strong>
                    Behind one of three doors is a üöó car, behind the others are üêê goats.
                    You pick a door, the host reveals a goat, and you decide: <strong>switch or stay?</strong>
                    Statistics show that <em>switching wins ~66.7% of the time!</em>
                </div>
                <div class="sim-container" style="display:flex; flex-direction:column; align-items:center;">
                    <p id="monty-message"
                        style="font-size:1.3rem; text-align:center; min-height:50px; margin-bottom:10px;">
                        Choose a door!
                    </p>
                    <div id="monty-doors" class="door-container">
                        <div class="door" onclick="montyChooseDoor(0)">
                            <span class="door-number">1</span><span class="door-content">üö™</span>
                        </div>
                        <div class="door" onclick="montyChooseDoor(1)">
                            <span class="door-number">2</span><span class="door-content">üö™</span>
                        </div>
                        <div class="door" onclick="montyChooseDoor(2)">
                            <span class="door-number">3</span><span class="door-content">üö™</span>
                        </div>
                    </div>
                    <div id="monty-actions" style="display:none; gap:15px; margin:20px 0; justify-content:center;">
                        <button class="glow-btn" onclick="montyDecision(true)">
                            <i class="fas fa-exchange-alt"></i> <span data-i18n="btn_switch">Switch!</span>
                        </button>
                        <button class="glow-btn secondary" onclick="montyDecision(false)">
                            <i class="fas fa-hand-paper"></i> <span data-i18n="btn_stay">Stay</span>
                        </button>
                    </div>

                    <div style="display:flex; gap:15px; margin:20px 0; flex-wrap:wrap; justify-content:center;">
                        <button class="glow-btn secondary" onclick="montyAutoRun(100)">
                            <i class="fas fa-forward"></i> <span data-i18n="btn_sim_100">Simulate 100</span>
                        </button>
                        <button class="glow-btn secondary" onclick="montyAutoRun(1000)">
                            <i class="fas fa-fast-forward"></i> <span data-i18n="btn_sim_1000">Simulate 1000</span>
                        </button>
                        <button class="glow-btn secondary" onclick="resetMonty()">
                            <i class="fas fa-redo"></i> <span data-i18n="btn_reset">Reset</span>
                        </button>
                    </div>

                    <div class="monty-results">
                        <div class="result-row">
                            <span style="width:80px;" data-i18n="btn_switch">Switch</span>
                            <div class="bar-bg">
                                <div class="bar-fill" id="monty-switch-bar"></div>
                            </div>
                            <span id="monty-switch-pct" style="width:55px;text-align:right;">0.0%</span>
                        </div>
                        <div class="result-row">
                            <span style="width:80px;" data-i18n="btn_stay">Stay</span>
                            <div class="bar-bg">
                                <div class="bar-fill gold" id="monty-stay-bar"></div>
                            </div>
                            <span id="monty-stay-pct" style="width:55px;text-align:right;">0.0%</span>
                        </div>
                    </div>

                    <div class="stats-panel" id="monty-stats" style="margin-top:20px; width:100%; max-width:400px;">
                        <p><span data-i18n="stat_total_games">Total games:</span> <span>0</span></p>
                        <p><span data-i18n="stat_switch_wins">Switch wins:</span> <span>0 / 0</span></p>
                        <p><span data-i18n="stat_stay_wins">Stay wins:</span> <span>0 / 0</span></p>
                    </div>
                </div>
            </div>

            <!-- ‚îÄ‚îÄ‚îÄ‚îÄ BUFFON'S NEEDLE ‚îÄ‚îÄ‚îÄ‚îÄ -->
            <div id="sim-buffon" class="sim-panel" style="display:none;">
                <div class="sim-description" data-i18n="sim_buffon_desc">
                    <strong>Buffon's Needle:</strong>
                    Drop needles randomly on parallel lines. The ratio of crossing needles to total needles
                    converges to <strong>2l / (œÄd)</strong>, allowing us to estimate <strong>œÄ</strong>!
                    The more needles you drop, the closer the estimate gets to 3.14159‚Ä¶
                </div>
                <div class="sim-container" style="display:flex;">
                    <div style="flex:2; min-width:300px;">
                        <canvas id="buffon-canvas" style="width:100%; height:400px;"></canvas>
                    </div>
                    <div class="controls">
                        <div class="control-group">
                            <label data-i18n="buffon_length_label">Needle Length (l)</label>
                            <input type="number" id="buffon-length" value="40" min="10" max="100">
                        </div>
                        <div class="control-group">
                            <label data-i18n="buffon_spacing_label">Line Spacing (d)</label>
                            <input type="number" id="buffon-spacing" value="60" min="20" max="150">
                        </div>
                        <button class="glow-btn" onclick="animateBuffonDrop(10)">
                            <i class="fas fa-plus"></i> <span data-i18n="btn_drop_10">Drop 10</span>
                        </button>
                        <button class="glow-btn" onclick="animateBuffonDrop(100)">
                            <i class="fas fa-shower"></i> <span data-i18n="btn_drop_100">Drop 100</span>
                        </button>
                        <button class="glow-btn" onclick="animateBuffonDrop(1000)">
                            <i class="fas fa-meteor"></i> <span data-i18n="btn_drop_1000">Drop 1000</span>
                        </button>
                        <button class="glow-btn" onclick="animateBuffonDrop(10000)">
                            <i class="fas fa-rocket"></i> <span data-i18n="btn_drop_10000">Drop 10,000</span>
                        </button>
                        <button class="glow-btn secondary" onclick="resetBuffon()">
                            <i class="fas fa-redo"></i> <span data-i18n="btn_reset">Reset</span>
                        </button>
                        <div class="stats-panel" id="buffon-stats">
                            <p><span data-i18n="stat_total_needles">Total needles:</span> <span>0</span></p>
                            <p><span data-i18n="stat_crossing">Crossing:</span> <span>0</span></p>
                            <p><span data-i18n="stat_pi_estimate">œÄ estimate:</span> <span>‚Äî</span></p>
                            <p><span data-i18n="stat_actual_pi">Actual œÄ:</span> <span
                                    style="color:#4cc9f0">3.141593</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FEEDBACK MODAL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="feedback-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">√ó</span>
            <h2 id="modal-title"></h2>
            <p id="modal-msg" style="margin:15px 0; line-height:1.8;"></p>
            <button id="modal-action-btn" class="glow-btn" style="margin-top:15px;"></button>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SCRIPTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/calculator.js"></script>
    <script src="js/simulations.js"></script>
    <script src="js/ai.js"></script>
</body>

</html>